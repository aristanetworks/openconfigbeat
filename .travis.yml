sudo: required
dist: trusty
services:
- docker
language: go
go:
- 1.7
os:
- linux
- osx
env:
  matrix:
  - TARGETS="check"
  - TARGETS="testsuite"
  global:
  - GOX_FLAGS="-arch amd64"
addons:
  apt:
    packages:
    - python-virtualenv
before_install:
- mkdir -p $HOME/gopath/src/github.com/aristanetworks/openconfigbeat
- rsync -az ${TRAVIS_BUILD_DIR}/ $HOME/gopath/src/github.com/aristanetworks/openconfigbeat
- export TRAVIS_BUILD_DIR=$HOME/gopath/src/github.com/aristanetworks/openconfigbeat
- cd $HOME/gopath/src/github.com/aristanetworks/openconfigbeat
- go get -v github.com/elastic/beats/vendor/github.com/pierrre/gotestcover
install:
- true
script:
- make $TARGETS
notifications:
  slack:
    secure: QI+5aHu+O+vhdf92H0hcnoWX/HufoBg9CiTtpmVbM8MM26NHla5ShyPvQa1uL/b8z7B8Cjy1jEy48BOkj+WgKVcqKJPaDY4B4kn1dfX78LYucdJqH3dhxFMceln/lbzws7s2n90/FE9gxj0u+ynPTaYsvzlnL1v3FgB1p4mc8seu56bX2WOiV3vzMzKGo4w0wBdneqHhksuA92COFykJ6EWhAqh3ogDIMZrQwJZQptApaHx3O131f0GWUc814mA93bFMuqYqu72XXfcmN09tOK0EZuTLESoGj9+WLrkyhN50wQ/vvTMk69FFGxUNO7M1HQ4JWeGOrD3EaHxH287YVQ1f3YNcG+6zV4kM/lMA8s6qMuXk0oqiJjW80TaKidAhqczz9+WNERXL+yn2058D7tSr7jNv/pnnbVn/4Ysw+0IatEpc5v2927BKIdiiUN/gq9qTImyaBFmVhWQNd2VrUb+oR+ycNfWrQ4GlvGAGhAdNZJX1WScRPGchz3bBbp8G5j2/pN0iwUxaoP/lUCwGYg6phumh2t+O7HGZnvQA/ypjPa6O3YXYhI4NX5vNKawy2D+igzsfT72BN6mH69sd6WnWqolvzUuyOa+MvFsGeyWSUSpoqzTko2FvCIFrQKmX1FIXn+wulyOMp1UBPjE5tCByIsrVceTM3k6zHciDRvE=
